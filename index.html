<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"> 
	<title>Painless Pace</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/app.css">
  <meta name="viewport" 
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
</head>
<body>

<div id="container">
	<div id="calculator">
    <div id="pace-container" class="row">
      <div class="column">
        <h3>Running Pace</h3>
        <div class="inputs">
          <select class="minutes" id="js-mins-pace" data-type="pace">
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
          </select>
          <span>:</span>
          <select class="seconds" id="js-secs-pace" data-type="pace">
              <option value="0">00</option>
              <option value="1">01</option>
              <option value="2">02</option>
              <option value="3">03</option>
              <option value="4">04</option>
              <option value="5">05</option>
              <option value="6">06</option>
              <option value="7">07</option>
              <option value="8">08</option>
              <option value="9">09</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
              <option value="32">32</option>
              <option value="33">33</option>
              <option value="34">34</option>
              <option value="35">35</option>
              <option value="36">36</option>
              <option value="37">37</option>
              <option value="38">38</option>
              <option value="39">39</option>
              <option value="40">40</option>
              <option value="41">41</option>
              <option value="42">42</option>
              <option value="43">43</option>
              <option value="44">44</option>
              <option value="45">45</option>
              <option value="46">46</option>
              <option value="47">47</option>
              <option value="48">48</option>
              <option value="49">49</option>
              <option value="50">50</option>
              <option value="51">51</option>
              <option value="52">52</option>
              <option value="53">53</option>
              <option value="54">54</option>
              <option value="55">55</option>
              <option value="56">56</option>
              <option value="57">57</option>
              <option value="58">58</option>
              <option value="59">59</option>
          </select>
          <button class="toggle">PER MILE</button>
      <!--     <div class="button-container">
            <button class="increase">+</button>
            <button class="decrease">â€“</button>
          </div> -->
        </div>
      </div>
 
    </div>

    <div id="results-container-a" class="row">
      <div class="column column-a">
        <h3>Marathon</h3>
        <div class="inputs">
          <select class="hours" id="js-hours-full" data-distance="marathonDistance">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
          </select>
          <span>:</span>
          <select class="minutes" id="js-mins-full" data-distance="marathonDistance">
            <option value="0">00</option>
            <option value="1">01</option>
            <option value="2">02</option>
            <option value="3">03</option>
            <option value="4">04</option>
            <option value="5">05</option>
            <option value="6">06</option>
            <option value="7">07</option>
            <option value="8">08</option>
            <option value="9">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
          <span>:</span>
          <select class="seconds" id="js-secs-full" data-distance="marathonDistance">
            <option value="0">00</option>
            <option value="1">01</option>
            <option value="2">02</option>
            <option value="3">03</option>
            <option value="4">04</option>
            <option value="5">05</option>
            <option value="6">06</option>
            <option value="7">07</option>
            <option value="8">08</option>
            <option value="9">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
         
         
        </div>
      </div>

      <div class="column column-b">
        <h3>Half Marathon</h3>
        <div class="inputs">
          
          <select class="hours" id="js-hours-half" data-distance="halfMarathonDistance">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
          </select>
          <span>:</span>
          <select class="minutes" id="js-mins-half" data-distance="halfMarathonDistance">
            <option value="0">00</option>
            <option value="1">01</option>
            <option value="2">02</option>
            <option value="3">03</option>
            <option value="4">04</option>
            <option value="5">05</option>
            <option value="6">06</option>
            <option value="7">07</option>
            <option value="8">08</option>
            <option value="9">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
          <span>:</span>
          <select class="seconds" id="js-secs-half" data-distance="halfMarathonDistance">
            <option value="0">00</option>
            <option value="1">01</option>
            <option value="2">02</option>
            <option value="3">03</option>
            <option value="4">04</option>
            <option value="5">05</option>
            <option value="6">06</option>
            <option value="7">07</option>
            <option value="8">08</option>
            <option value="9">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
         
        </div>
      </div>

    </div>
    <div id="results-container-b" class="row">
      <div class="column column-a">
        <h3>10K</h3>
        <div class="inputs">

          <select class="hours" id="js-hours-10k" data-distance="tenKDistance">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
          </select>
          <span>:</span>
          <select class="minutes" id="js-mins-10k" data-distance="tenKDistance">
            <option value="0">00</option>
            <option value="1">01</option>
            <option value="2">02</option>
            <option value="3">03</option>
            <option value="4">04</option>
            <option value="5">05</option>
            <option value="6">06</option>
            <option value="7">07</option>
            <option value="8">08</option>
            <option value="9">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
          <span>:</span>
          <select class="seconds" id="js-secs-10k" data-distance="tenKDistance">
            <option value="0">00</option>
            <option value="1">01</option>
            <option value="2">02</option>
            <option value="3">03</option>
            <option value="4">04</option>
            <option value="5">05</option>
            <option value="6">06</option>
            <option value="7">07</option>
            <option value="8">08</option>
            <option value="9">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
         
        </div>
      </div>

      <div class="column column-b">
        <h3>5K</h3>
        <div class="inputs">
          <select class="hours" id="js-hours-5k" data-distance="fiveKDistance">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
          </select>
          <span>:</span>
          <select class="minutes" id="js-mins-5k" data-distance="fiveKDistance">
            <option value="0">00</option>
            <option value="1">01</option>
            <option value="2">02</option>
            <option value="3">03</option>
            <option value="4">04</option>
            <option value="5">05</option>
            <option value="6">06</option>
            <option value="7">07</option>
            <option value="8">08</option>
            <option value="9">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
          <span>:</span>
          <select class="seconds" id="js-secs-5k" data-distance="fiveKDistance">
            <option value="0">00</option>
            <option value="1">01</option>
            <option value="2">02</option>
            <option value="3">03</option>
            <option value="4">04</option>
            <option value="5">05</option>
            <option value="6">06</option>
            <option value="7">07</option>
            <option value="8">08</option>
            <option value="9">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
         
        </div>
      </div>
    </div>
    <div id="splits-container">
      <table>
        <thead>
          <tr>
            <th class="split">Split</th>
            <th>8:25</th>
            <th class="highlight">8:30</th>
            <th class="lastCell">8:35</th>
          </tr>
        </thead>
        <tbody id="tableBody">
          
        </tbody>
      </table>
    </div>
  </div>
</div>

<script type="text/javascript">
  let calculator = function(){
    return {
      init: function(){
        // console.log('init')
        this.paceInSeconds = 0;
        this.bindEvents()

        this.marathonDistance     = 26.21875
        this.halfMarathonDistance = 13.10937
        this.fiveKDistance        = 3.10686
        this.tenKDistance         = 6.21371

        // all in miles
        this.milesplits = [
          { distance: 1, label: '1 mi'  },
          { distance: 2, label: '2 mi' },
          { distance: 3, label: '3 mi' },
          { distance: 3.10686, label: '5k', highlight: true },
          { distance: 4, label: '4 mi' },
          { distance: 5, label: '5 mi' },
          { distance: 6, label: '6 mi' },
          { distance: 6.21371, label: '10k', highlight: true },
          { distance: 7, label: '7 mi' },
          { distance: 8, label: '8 mi' },
          { distance: 9, label: '9 mi' },
          { distance: 10, label: '10 mi' },
          { distance: 11, label: '11 mi' },
          { distance: 12, label: '12 mi' },
          { distance: 13, label: '13 mi' },
          { distance: 13.109375, label: 'Half Marathon', highlight: true },
          { distance: 14, label: '14 mi' },
          { distance: 15, label: '15 mi' },
          { distance: 16, label: '16 mi' },
          { distance: 17, label: '17 mi' },
          { distance: 18, label: '18 mi' },
          { distance: 19, label: '19 mi' },
          { distance: 20, label: '20 mi' },
          { distance: 21, label: '21 mi' },
          { distance: 22, label: '22 mi' },
          { distance: 23, label: '23 mi' },
          { distance: 24, label: '24 mi' },
          { distance: 25, label: '25 mi' },
          { distance: 26, label: '26 mi' },
          { distance: 26.21875, label: 'Marathon', highlight: true },
        ]
      },

      bindEvents: function(){
        this.elements = this.getElements()
        // focus text in each field
        // let inputs = document.querySelectorAll('select')
        //   .forEach(d => {
        //     d.addEventListener('click', this.handleFocus)  
        //   })
        // console.log('binding')
        let selects = document.querySelectorAll('select.hours, select.minutes, select.seconds')
          .forEach(d => {
            d.addEventListener('change', this.handleNumberChange.bind(this))
          })
        // // pace
        // this.elements.paceMinutes.addEventListener('change', this.handlePaceChange.bind(this))
        // this.elements.paceSeconds.addEventListener('change', this.handlePaceChange.bind(this))
      },
      
      getElements: function(){
        let elements = {
          paceMinutes: document.getElementById('js-mins-pace'),
          paceSeconds: document.getElementById('js-secs-pace'),

          marathonHour: document.getElementById('js-hours-full'),
          marathonMinutes: document.getElementById('js-mins-full'),
          marathonSeconds: document.getElementById('js-secs-full'),

          halfMarathonHour: document.getElementById('js-hours-half'),
          halfMarathonMinutes: document.getElementById('js-mins-half'),
          halfMarathonSeconds: document.getElementById('js-secs-half'),

          tenKHour: document.getElementById('js-hours-10k'),
          tenKMinutes: document.getElementById('js-mins-10k'),
          tenKSeconds: document.getElementById('js-secs-10k'),

          fiveKHour: document.getElementById('js-hours-5k'),
          fiveKMinutes: document.getElementById('js-mins-5k'),
          fiveKSeconds: document.getElementById('js-secs-5k')

        } 
        // console.log(elements)
        return elements
      },

      getSplits: function(){

      },

      handleFocus: function(e){
        // console.log('focus')
        e.target.select()
      },

      getParams: function(node){
        let id = node.id
        let params = {
          type: null,
          hours: null,
          mins: null,
          secs: null,
          distance: null
        }
        if(node.dataset.type === 'pace' === true){
          params.type = 'pace'
        }else{
          params.type = 'race'
          params.distance = this[node.dataset.distance]
        }

        // these should be data params too i guess
        if (node.className === 'hours') {
          params.hours = parseInt(node.value, 10)
        }else if(node.className === 'minutes') {
          params.hours = parseInt(node.value, 10)
        }else if(node.className === 'seconds') {
          params.hours = parseInt(node.value, 10)
        }

        return params;

      },

      handleNumberChange: function(e){
        // console.log('blurring')
        let target = e.target
        let params = this.getParams(target)
        let totalSeconds;

        if(params.type === 'pace'){
          let mins      = parseInt(this.elements.paceMinutes.value, 10)
          let secs      = parseInt(this.elements.paceSeconds.value, 10)
          totalSeconds  = (mins * 60) + secs
        }

        this.updateDurations(totalSeconds)

        e.target.blur()

      },

      updateDurations: function(totalSeconds){
        let marathonDuration      = this.getDuration(totalSeconds, this.marathonDistance)
        let halfMarathonDuration  = this.getDuration(totalSeconds, this.halfMarathonDistance)
        let tenKDuration          = this.getDuration(totalSeconds, this.tenKDistance)
        let fiveKDuration         = this.getDuration(totalSeconds, this.fiveKDistance)
        console.log(fiveKDuration)
        this.updateTimeFields(marathonDuration, halfMarathonDuration, tenKDuration, fiveKDuration)
        this.updateSplits() 
      },

      // handlePaceChange: function(e){
      //   console.log('pace change')

      //   let totalSeconds = parseInt(this.elements.paceMinutes.value) * 60 +
      //     parseInt(this.elements.paceSeconds.value)

      //   let marathonDuration = this.getDuration(totalSeconds, this.marathonDistance)

      //   let halfMarathonDuration = this.getDuration(totalSeconds, this.halfMarathonDistance)

      //   let fiveKDuration = this.getDuration(totalSeconds, this.fiveKDistance)

      //   let tenKDuration = this.getDuration(totalSeconds, this.tenKDistance)

      //   this.updateTimeFields(marathonDuration, halfMarathonDuration, tenKDuration, fiveKDuration)

      //   this.updateSplits() 
        
      // },

      updateSplits: function(){

          let html = this.milesplits.map(d => {
        
            let seconds = parseInt(this.elements.paceMinutes.value) * 60 +
              parseInt(this.elements.paceSeconds.value)
            let durationA = this.getDuration(seconds - 5, d.distance)
            let durationB = this.getDuration(seconds, d.distance)
            let durationC = this.getDuration(seconds + 5, d.distance)

            let highlightClass = (d.highlight) ? 'highlight' : '';

            return `<tr>
                <td class="split ${highlightClass}">${d.label}</td>
                <td class="${highlightClass}">${durationA.time}</td>
                <td class="highlight targetPace">${durationB.time}</td>
                <td class="${highlightClass} lastCell">${durationC.time}</td>
              </tr>`
          })

          // console.log(html)
          document.getElementById('tableBody').innerHTML = html.join('')
        
      },

      updateTimeFields: function(marathonDuration, halfMarathonDuration, tenKDuration, fiveKDuration){
        // console.log
        console.log('==', marathonDuration, halfMarathonDuration, tenKDuration, fiveKDuration)
        this.elements.marathonHour.value        = marathonDuration.hours
        this.elements.marathonMinutes.value     = marathonDuration.minutes
        this.elements.marathonSeconds.value     = marathonDuration.seconds

        this.elements.halfMarathonHour.value    = halfMarathonDuration.hours
        this.elements.halfMarathonMinutes.value = halfMarathonDuration.minutes
        this.elements.halfMarathonSeconds.value = halfMarathonDuration.seconds

        this.elements.tenKHour.value            = tenKDuration.hours
        this.elements.tenKMinutes.value         = tenKDuration.minutes
        this.elements.tenKSeconds.value         = tenKDuration.seconds
        
        this.elements.fiveKHour.value           = fiveKDuration.hours
        this.elements.fiveKMinutes.value        = fiveKDuration.minutes
        this.elements.fiveKSeconds.value        = fiveKDuration.seconds                

      },

      getDuration: function(secs, distance){
        let duration  = secs * distance
        let time = new Date(duration * 1000).toISOString().substring(11, 19)

        return {
          time: this.formatTime(time),
          hours: parseInt(time.split(':')[0],10),
          minutes: parseInt(time.split(':')[1], 10),
          seconds: parseInt(time.split(':')[2], 10) 
        }
      },

      formatTime: function(time){
        // console.log(time.charAt(0), time.charAt(1), time)
        if(time.charAt(0) === '0'){
          if(time.charAt(1) === '0'){
            return time.slice(3)
          }else{
            return time.slice(1)
          }
        }else{
          return time
        }
      },

      handle5KChange: function(){
        console.log('5k')
      },

      handleMarathonChange: function(){
        console.log('full')
      },

      handle10KChange: function(){
        console.log('10k')
      },

      handleHalfMarathonChange: function(){
        console.log('half')
      },
    }
  }()
  console.log('binding')

  calculator.init()
</script>

</body>
</html>